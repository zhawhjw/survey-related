<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet" />
<style type="text/css">.sliderticks {
  display: flex;
}
.slidertick {
  flex: 1;
  display: flex;
  justify-content: center;
}
.slidertick:first-child > span { margin-right: auto; }
.slidertick:last-child  > span { margin-left: auto; }

#baseimg {
  display: block;
  margin-left: auto;
  margin-right: auto;
}



#header{
  /*text-align: center;*/
}

</style>
<section class="container" id="ImageComparisons" style="padding-top:10px; font-family: Verdana, Geneva, sans-serif; color:#333333; font-size:medium;">
  <div class="row col-12">
    <p>There are two images: Left one and Right one. Each image has several 3D humanoid models demonstrating the pose changing in temporal order (from left to right): Blue poses -> Green poses ->  Red poses.</p>
    <p>
      Please choose the score to represent which image looks better based on:
    </p>
    <p>
      1. If the pose-changing of Green poses looks smooth.
    </p>
    <p>
      2. If Green poses looks natural and no weird behavior.
    </p>
    <p>
      3. if the change from Blue pose to Green pose ,and Green pose to Red pose is good.
    </p>
    <p>
     P.S.: Please ignore some subtle points such as: fingers, the weapon pierces another pose, pose overlaps with another one.
    </p>

  </div>

  <hr /><!-- hidden images to load images in background (real images will only be displayed once the page has finished loading) --> <!-- edited images -->

  <div class="row">
    <div class="col text-center" style="padding-right:5px; font-size:x-large; font-weight: bold;">Left</div>
    <div class="col text-center" style="padding-left:5px; font-size:x-large; font-weight: bold;">Right</div>

  </div>

   <div class="row">
    <div class="col text-center" style="padding-right:5px;">
      <img alt="image_url" class="img-responsive" id="leftimg" src="https://github.com/paulguerrero/layout_metric_userstudy_data/raw/main/loading.png" style="border:5px solid white; width:auto; max-height:300px; max-width:100%;" />
    </div>


    <div class="col text-center" style="padding-left:5px;">
      <img alt="image_url" class="img-responsive" id="rightimg" src="https://github.com/paulguerrero/layout_metric_userstudy_data/raw/main/loading.png" style="border:5px solid white; width:auto; max-height:300px; max-width:100%;" />
    </div>
  </div>



  <div class="row">
    <div class="btn-group col-12" data-toggle="buttons" id="btns" role="group" style="padding-top:20px;">
      <input autocomplete="off" class="btn-check" disabled="disabled" id="btn_0" name="userchoice" type="radio" value="0" />
        <label class="btn btn-outline-primary" for="btn_0" style="font-size:14pt; width: 100%;">+++</label>
      <input autocomplete="off" class="btn-check" disabled="disabled" id="btn_1" name="userchoice" type="radio" value="1" />
        <label class="btn btn-outline-primary" for="btn_1" style="font-size:14pt; width: 100%;">++</label>
      <input autocomplete="off" class="btn-check" disabled="disabled" id="btn_2" name="userchoice" type="radio" value="2" />
        <label class="btn btn-outline-primary" for="btn_2" style="font-size:14pt; width: 100%;">+</label>
      <input autocomplete="off" class="btn-check" disabled="disabled" id="btn_3" name="userchoice" type="radio" value="3" />
        <label class="btn btn-outline-primary" for="btn_3" style="font-size:14pt; width: 100%;">=</label>
      <input autocomplete="off" class="btn-check" disabled="disabled" id="btn_4" name="userchoice" type="radio" value="4" />
        <label class="btn btn-outline-primary" for="btn_4" style="font-size:14pt; width: 100%;">+</label>
      <input autocomplete="off" class="btn-check" disabled="disabled" id="btn_5" name="userchoice" type="radio" value="5" />
        <label class="btn btn-outline-primary" for="btn_5" style="font-size:14pt; width: 100%;">++</label>
      <input autocomplete="off" class="btn-check" disabled="disabled" id="btn_6" name="userchoice" type="radio" value="6" />
        <label class="btn btn-outline-primary" for="btn_6" style="font-size:14pt; width: 100%;">+++</label>
    </div>
  </div>
  <!-- user choice range labels -->

  <div class="row" style="margin-top:-10px;">
    <div class="col-12 text-center">&nbsp;</div>

    <div class="sliderticks">
      <div class="slidertick"><span style="text-align: center;">|</span></div>
    </div>
  </div>

  <div class="col-12 text-center">&nbsp;</div>

  <div class="sliderticks">
    <div class="slidertick"><span style="text-align: left;">Left is better</span></div>

    <div class="slidertick"><span style="text-align: center;">They are equally good</span></div>

    <div class="slidertick"><span style="text-align: right;">Right is better</span></div>
  </div>
  <!-- <input type="hidden" id="userchoice" name="userchoice_reversed" value="0"> --> <!-- submit button -->

  <div class="row" style="margin-top:10px;">
    <div class="col-12 text-center"><input autocomplete="off" class="btn btn-primary" disabled="disabled" id="submitButton" type="submit" value="Loading ..." /></div>
  </div>
  <!-- feedback -->

  <div class="row" style="margin-top:20px;">
    <div class="col-12" id="divOutput">If you have any questions about this HIT, encounter a problem, or have suggestions on how we could improve it, please let us know: <input id="comment" name="comment" style="width: 100%;" type="text" value="" /></div>
  </div>
</section>
<script  src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script language="javascript" type="text/javascript">

  var param = function(url, name ) {
    name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
    var regexS = "[\\?&]"+name+"=([^&#]*)";
    var regex = new RegExp( regexS );
    var results = regex.exec( url );
    return ( results == null ) ? "" : results[1];
  };

  var previewmode = param(window.location.href, "assignmentId") == "ASSIGNMENT_ID_NOT_AVAILABLE";

  window.onload = function() {

    var submitbtn = document.getElementById('submitButton');
    var userchoice_0 = document.getElementById('btn_0');
    var userchoice_1 = document.getElementById('btn_1');
    var userchoice_2 = document.getElementById('btn_2');
    var userchoice_3 = document.getElementById('btn_3');
    var userchoice_4 = document.getElementById('btn_4');
    var userchoice_5 = document.getElementById('btn_5');
    var userchoice_6 = document.getElementById('btn_6');
    // var userchoice_reversed = document.getElementById('userchoice_reversed');

    submitbtn.disabled = true;
    userchoice_0.disabled = true;
    userchoice_1.disabled = true;
    userchoice_2.disabled = true;
    userchoice_3.disabled = true;
    userchoice_4.disabled = true;
    userchoice_5.disabled = true;
    userchoice_6.disabled = true;

    if (previewmode) {
      submitbtn.value = 'ACCEPT the HIT before submitting.';
    } else {
      submitbtn.value = 'Waiting for choice';
    }

    let leftimg = document.getElementById('leftimg');
    let rightimg = document.getElementById('rightimg');

    // var leftimage = document.getElementById('leftimg');
    // var rightimage = document.getElementById('rightimg');


    let common_query = "https://github.com/zhawhjw/survey-related/raw/main/BlendingSurvey/"

     let our = "our/";
     let ran = "random/"



    if (previewmode) {

      let left_name = "${left}" + ".png";
      let right_name = "${right}" + ".png";






    } else {


      let name = "${name}" + "/";

      main.src = common_query + name + c + main_suffix;

      position1.src = common_query + name + p + first_suffix;
      rotation1.src = common_query + name + r + first_suffix;
      combined1.src = common_query + name + c + first_suffix;

      position2.src = common_query + name + p + second_suffix;
      rotation2.src = common_query + name + r + second_suffix;
      combined2.src = common_query + name + c + second_suffix

      position3.src = common_query + name + p + third_suffix;
      rotation3.src = common_query + name + r + third_suffix;
      combined3.src = common_query + name + c + third_suffix

      position4.src = common_query + name + p + forth_suffix;
      rotation4.src = common_query + name + r + forth_suffix;
      combined4.src = common_query + name + c + forth_suffix

      position5.src = common_query + name + p + fifth_suffix;
      rotation5.src = common_query + name + r + fifth_suffix;
      combined5.src = common_query + name + c + fifth_suffix;

      // leftimage.src = img1url;
      // rightimage.src = img2url;

      // userchoice_0.value = 0;
      // userchoice_1.value = 1;
      userchoice_2.value = 2;
      userchoice_3.value = 3;
      userchoice_4.value = 4;
      // userchoice_5.value = 5;
      // userchoice_6.value = 6;

      // userchoice_0.disabled = false;
      // userchoice_1.disabled = false;
      userchoice_2.disabled = false;
      userchoice_3.disabled = false;
      userchoice_4.disabled = false;
      // userchoice_5.disabled = false;
      // userchoice_6.disabled = false;
    }

    // leftvideo.load();
    // rightvideo.load();

    // $('button:button[name=userchoice]').on('change', userchoice_clicked)
    $("#btns").on('click', userchoice_clicked)

    function userchoice_clicked() {
      if (!previewmode) {
        var submitbtn = document.getElementById('submitButton');
        submitbtn.disabled = false;
        submitbtn.value = 'Submit';

      }
    }

    // $("#userchoice_range").on('change', userchoice_changed)
    // function userchoice_changed() {
    //     if (!previewmode) {
    //         console.log(`value: ${userchoice_range.value} - reversed: ${userchoice_reversed.value}`)
    //     }
    // }


  };

</script>